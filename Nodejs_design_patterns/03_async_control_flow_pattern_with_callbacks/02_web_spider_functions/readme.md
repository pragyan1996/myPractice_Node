this is the refactored version of the previous version built by applying the design principles to aviod callback hell.